sessionStorage.getItem("pageRefreshed")||(sessionStorage.setItem("pageRefreshed","true"),location.reload());async function y(){const{AdvancedMarkerElement:S,PinElement:g}=await google.maps.importLibrary("marker");await customElements.whenDefined("gmp-map");const l=document.querySelector("gmp-map"),p=document.querySelector("gmpx-place-picker"),u=document.querySelectorAll(".dayList");l.innerMap.setOptions({mapTypeControl:!1}),u.forEach(r=>{r.addEventListener("click",m)});let n=[],c=[];function m(){let r=document.querySelectorAll(".siteItem"),o=[];r.forEach(s=>{o.push(s.dataset.siteName)}),n.forEach(s=>s.setMap(null)),n=[],c=[];const e=new google.maps.places.PlacesService(l.innerMap),t=new google.maps.LatLngBounds;let a=o.length;o.forEach(s=>{e.textSearch({query:s},(d,h)=>{if(h===google.maps.places.PlacesServiceStatus.OK&&d.length>0){const i=d[0];c.push(i),t.extend(i.geometry.location),p.setInputValue&&p.setInputValue(i.name)}a--,a===0&&(f(c),l.innerMap.fitBounds(t))})})}function f(r){n.forEach(e=>e.setMap(null)),n=[];let o=null;r.forEach(e=>{const t=new google.maps.marker.AdvancedMarkerElement({map:l.innerMap,position:e.geometry.location,title:e.name,gmpClickable:!0});t.addListener("gmp-click",()=>{const a=new google.maps.InfoWindow;o&&o.close(),a.setContent(`<strong style="font-size: 26px; color: #4A859F">${t.title}</strong>`),a.open(t.map,t),o=a}),n.push(t)});for(let e=0;e<n.length;e++){const t=new g({scale:1.5,background:"#DCAB25",borderColor:"#A35840",glyphColor:"white",glyph:`${e+1}`});n[e].appendChild(t.element)}}m()}document.addEventListener("DOMContentLoaded",y);
