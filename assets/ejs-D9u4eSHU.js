function B(r){if(r.__esModule)return r;var v=r.default;if(typeof v=="function"){var d=function c(){return this instanceof c?Reflect.construct(v,arguments,this.constructor):v.apply(this,arguments)};d.prototype=v.prototype}else d={};return Object.defineProperty(d,"__esModule",{value:!0}),Object.keys(r).forEach(function(c){var y=Object.getOwnPropertyDescriptor(r,c);Object.defineProperty(d,c,y.get?y:{enumerable:!0,get:function(){return r[c]}})}),d}var Z={};const q={},G=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"})),$=B(G);var x={};(function(r){var v=/[|\\{}()[\]^$+*?.]/g,d=Object.prototype.hasOwnProperty,c=function(s,l){return d.apply(s,[l])};r.escapeRegExpChars=function(s){return s?String(s).replace(v,"\\$&"):""};var y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},T=/[&<>'"]/g;function P(s){return y[s]||s}var A=`var _ENCODE_HTML_RULES = {
      "&": "&amp;"
    , "<": "&lt;"
    , ">": "&gt;"
    , '"': "&#34;"
    , "'": "&#39;"
    }
  , _MATCH_HTML = /[&<>'"]/g;
function encode_char(c) {
  return _ENCODE_HTML_RULES[c] || c;
};
`;r.escapeXML=function(s){return s==null?"":String(s).replace(T,P)};function S(){return Function.prototype.toString.call(this)+`;
`+A}try{typeof Object.defineProperty=="function"?Object.defineProperty(r.escapeXML,"toString",{value:S}):r.escapeXML.toString=S}catch{console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}r.shallowCopy=function(s,l){if(l=l||{},s!=null)for(var f in l)c(l,f)&&(f==="__proto__"||f==="constructor"||(s[f]=l[f]));return s},r.shallowCopyFromList=function(s,l,f){if(f=f||[],l=l||{},s!=null)for(var E=0;E<f.length;E++){var _=f[E];if(typeof l[_]<"u"){if(!c(l,_)||_==="__proto__"||_==="constructor")continue;s[_]=l[_]}}return s},r.cache={_data:{},set:function(s,l){this._data[s]=l},get:function(s){return this._data[s]},remove:function(s){delete this._data[s]},reset:function(){this._data={}}},r.hyphenToCamel=function(s){return s.replace(/-[a-z]/g,function(l){return l[1].toUpperCase()})},r.createNullProtoObjWherePossible=function(){return typeof Object.create=="function"?function(){return Object.create(null)}:{__proto__:null}instanceof Object?function(){return{}}:function(){return{__proto__:null}}}(),r.hasOwnOnlyObject=function(s){var l=r.createNullProtoObjWherePossible();for(var f in s)c(s,f)&&(l[f]=s[f]);return l}})(x);const K="ejs",Q="Embedded JavaScript templates",Y=["template","engine","ejs"],ee="3.1.10",te="Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",ne="Apache-2.0",re={ejs:"./bin/cli.js"},ie="./lib/ejs.js",ae="ejs.min.js",se="ejs.min.js",ce={type:"git",url:"git://github.com/mde/ejs.git"},oe="https://github.com/mde/ejs/issues",le="https://github.com/mde/ejs",ue={jake:"^10.8.5"},fe={browserify:"^16.5.1",eslint:"^6.8.0","git-directory-deploy":"^1.5.1",jsdoc:"^4.0.2","lru-cache":"^4.0.1",mocha:"^10.2.0","uglify-js":"^3.3.16"},he={node:">=0.10.0"},de={test:"npx jake test"},pe={name:K,description:Q,keywords:Y,version:ee,author:te,license:ne,bin:re,main:ie,jsdelivr:ae,unpkg:se,repository:ce,bugs:oe,homepage:le,dependencies:ue,devDependencies:fe,engines:he,scripts:de};(function(r){/**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */var v=$,d=$,c=x,y=!1,T=pe.version,P="<",A=">",S="%",s="locals",l="ejs",f="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",E=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],_=E.concat("cache"),D=/^\uFEFF/,N=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;r.cache=c.cache,r.fileLoader=v.readFileSync,r.localsName=s,r.promiseImpl=new Function("return this;")().Promise,r.resolveInclude=function(t,i,e){var n=d.dirname,a=d.extname,o=d.resolve,h=o(e?i:n(i),t),g=a(t);return g||(h+=".ejs"),h};function C(t,i){var e;if(i.some(function(n){return e=r.resolveInclude(t,n,!0),v.existsSync(e)}))return e}function J(t,i){var e,n,a=i.views,o=/^[A-Za-z]+:\\|^\//.exec(t);if(o&&o.length)t=t.replace(/^\/*/,""),Array.isArray(i.root)?e=C(t,i.root):e=r.resolveInclude(t,i.root||"/",!0);else if(i.filename&&(n=r.resolveInclude(t,i.filename),v.existsSync(n)&&(e=n)),!e&&Array.isArray(a)&&(e=C(t,a)),!e&&typeof i.includer!="function")throw new Error('Could not find the include file "'+i.escapeFunction(t)+'"');return e}function b(t,i){var e,n=t.filename,a=arguments.length>1;if(t.cache){if(!n)throw new Error("cache option requires a filename");if(e=r.cache.get(n),e)return e;a||(i=I(n).toString().replace(D,""))}else if(!a){if(!n)throw new Error("Internal EJS error: no file name or template provided");i=I(n).toString().replace(D,"")}return e=r.compile(i,t),t.cache&&r.cache.set(n,e),e}function H(t,i,e){var n;if(e){try{n=b(t)(i)}catch(a){return e(a)}e(null,n)}else{if(typeof r.promiseImpl=="function")return new r.promiseImpl(function(a,o){try{n=b(t)(i),a(n)}catch(h){o(h)}});throw new Error("Please provide a callback function")}}function I(t){return r.fileLoader(t)}function U(t,i){var e=c.shallowCopy(c.createNullProtoObjWherePossible(),i);if(e.filename=J(t,e),typeof i.includer=="function"){var n=i.includer(t,e.filename);if(n&&(n.filename&&(e.filename=n.filename),n.template))return b(e,n.template)}return b(e)}function M(t,i,e,n,a){var o=i.split(`
`),h=Math.max(n-3,0),g=Math.min(o.length,n+3),m=a(e),w=o.slice(h,g).map(function(L,j){var O=j+h+1;return(O==n?" >> ":"    ")+O+"| "+L}).join(`
`);throw t.path=m,t.message=(m||"ejs")+":"+n+`
`+w+`

`+t.message,t}function R(t){return t.replace(/;(\s*$)/,"$1")}r.compile=function(i,e){var n;return e&&e.scope&&(y||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),y=!0),e.context||(e.context=e.scope),delete e.scope),n=new u(i,e),n.compile()},r.render=function(t,i,e){var n=i||c.createNullProtoObjWherePossible(),a=e||c.createNullProtoObjWherePossible();return arguments.length==2&&c.shallowCopyFromList(a,n,E),b(a,t)(n)},r.renderFile=function(){var t=Array.prototype.slice.call(arguments),i=t.shift(),e,n={filename:i},a,o;return typeof arguments[arguments.length-1]=="function"&&(e=t.pop()),t.length?(a=t.shift(),t.length?c.shallowCopy(n,t.pop()):(a.settings&&(a.settings.views&&(n.views=a.settings.views),a.settings["view cache"]&&(n.cache=!0),o=a.settings["view options"],o&&c.shallowCopy(n,o)),c.shallowCopyFromList(n,a,_)),n.filename=i):a=c.createNullProtoObjWherePossible(),H(n,a,e)},r.Template=u,r.clearCache=function(){r.cache.reset()};function u(t,i){var e=c.hasOwnOnlyObject(i),n=c.createNullProtoObjWherePossible();this.templateText=t,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",n.client=e.client||!1,n.escapeFunction=e.escape||e.escapeFunction||c.escapeXML,n.compileDebug=e.compileDebug!==!1,n.debug=!!e.debug,n.filename=e.filename,n.openDelimiter=e.openDelimiter||r.openDelimiter||P,n.closeDelimiter=e.closeDelimiter||r.closeDelimiter||A,n.delimiter=e.delimiter||r.delimiter||S,n.strict=e.strict||!1,n.context=e.context,n.cache=e.cache||!1,n.rmWhitespace=e.rmWhitespace,n.root=e.root,n.includer=e.includer,n.outputFunctionName=e.outputFunctionName,n.localsName=e.localsName||r.localsName||s,n.views=e.views,n.async=e.async,n.destructuredLocals=e.destructuredLocals,n.legacyInclude=typeof e.legacyInclude<"u"?!!e.legacyInclude:!0,n.strict?n._with=!1:n._with=typeof e._with<"u"?e._with:!0,this.opts=n,this.regex=this.createRegex()}u.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},u.prototype={createRegex:function(){var t=f,i=c.escapeRegExpChars(this.opts.delimiter),e=c.escapeRegExpChars(this.opts.openDelimiter),n=c.escapeRegExpChars(this.opts.closeDelimiter);return t=t.replace(/%/g,i).replace(/</g,e).replace(/>/g,n),new RegExp(t)},compile:function(){var t,i,e=this.opts,n="",a="",o=e.escapeFunction,h,g=e.filename?JSON.stringify(e.filename):"undefined";if(!this.source){if(this.generateSource(),n+=`  var __output = "";
  function __append(s) { if (s !== undefined && s !== null) __output += s }
`,e.outputFunctionName){if(!N.test(e.outputFunctionName))throw new Error("outputFunctionName is not a valid JS identifier.");n+="  var "+e.outputFunctionName+` = __append;
`}if(e.localsName&&!N.test(e.localsName))throw new Error("localsName is not a valid JS identifier.");if(e.destructuredLocals&&e.destructuredLocals.length){for(var m="  var __locals = ("+e.localsName+` || {}),
`,w=0;w<e.destructuredLocals.length;w++){var L=e.destructuredLocals[w];if(!N.test(L))throw new Error("destructuredLocals["+w+"] is not a valid JS identifier.");w>0&&(m+=`,
  `),m+=L+" = __locals."+L}n+=m+`;
`}e._with!==!1&&(n+="  with ("+e.localsName+` || {}) {
`,a+=`  }
`),a+=`  return __output;
`,this.source=n+this.source+a}e.compileDebug?t=`var __line = 1
  , __lines = `+JSON.stringify(this.templateText)+`
  , __filename = `+g+`;
try {
`+this.source+`} catch (e) {
  rethrow(e, __lines, __filename, __line, escapeFn);
}
`:t=this.source,e.client&&(t="escapeFn = escapeFn || "+o.toString()+`;
`+t,e.compileDebug&&(t="rethrow = rethrow || "+M.toString()+`;
`+t)),e.strict&&(t=`"use strict";
`+t),e.debug&&console.log(t),e.compileDebug&&e.filename&&(t=t+`
//# sourceURL=`+g+`
`);try{if(e.async)try{h=new Function("return (async function(){}).constructor;")()}catch(p){throw p instanceof SyntaxError?new Error("This environment does not support async/await"):p}else h=Function;i=new h(e.localsName+", escapeFn, include, rethrow",t)}catch(p){throw p instanceof SyntaxError&&(e.filename&&(p.message+=" in "+e.filename),p.message+=` while compiling ejs

`,p.message+=`If the above error is not helpful, you may want to try EJS-Lint:
`,p.message+="https://github.com/RyanZim/EJS-Lint",e.async||(p.message+=`
`,p.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),p}var j=e.client?i:function(W){var z=function(V,k){var F=c.shallowCopy(c.createNullProtoObjWherePossible(),W);return k&&(F=c.shallowCopy(F,k)),U(V,e)(F)};return i.apply(e.context,[W||c.createNullProtoObjWherePossible(),o,z,M])};if(e.filename&&typeof Object.defineProperty=="function"){var O=e.filename,X=d.basename(O,d.extname(O));try{Object.defineProperty(j,"name",{value:X,writable:!1,enumerable:!1,configurable:!0})}catch{}}return j},generateSource:function(){var t=this.opts;t.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,`
`).replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var i=this,e=this.parseTemplateText(),n=this.opts.delimiter,a=this.opts.openDelimiter,o=this.opts.closeDelimiter;e&&e.length&&e.forEach(function(h,g){var m;if(h.indexOf(a+n)===0&&h.indexOf(a+n+n)!==0&&(m=e[g+2],!(m==n+o||m=="-"+n+o||m=="_"+n+o)))throw new Error('Could not find matching close tag for "'+h+'".');i.scanLine(h)})},parseTemplateText:function(){for(var t=this.templateText,i=this.regex,e=i.exec(t),n=[],a;e;)a=e.index,a!==0&&(n.push(t.substring(0,a)),t=t.slice(a)),n.push(e[0]),t=t.slice(e[0].length),e=i.exec(t);return t&&n.push(t),n},_addOutput:function(t){if(this.truncate&&(t=t.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!t)return t;t=t.replace(/\\/g,"\\\\"),t=t.replace(/\n/g,"\\n"),t=t.replace(/\r/g,"\\r"),t=t.replace(/"/g,'\\"'),this.source+='    ; __append("'+t+`")
`},scanLine:function(t){var i=this,e=this.opts.delimiter,n=this.opts.openDelimiter,a=this.opts.closeDelimiter,o=0;switch(o=t.split(`
`).length-1,t){case n+e:case n+e+"_":this.mode=u.modes.EVAL;break;case n+e+"=":this.mode=u.modes.ESCAPED;break;case n+e+"-":this.mode=u.modes.RAW;break;case n+e+"#":this.mode=u.modes.COMMENT;break;case n+e+e:this.mode=u.modes.LITERAL,this.source+='    ; __append("'+t.replace(n+e+e,n+e)+`")
`;break;case e+e+a:this.mode=u.modes.LITERAL,this.source+='    ; __append("'+t.replace(e+e+a,e+a)+`")
`;break;case e+a:case"-"+e+a:case"_"+e+a:this.mode==u.modes.LITERAL&&this._addOutput(t),this.mode=null,this.truncate=t.indexOf("-")===0||t.indexOf("_")===0;break;default:if(this.mode){switch(this.mode){case u.modes.EVAL:case u.modes.ESCAPED:case u.modes.RAW:t.lastIndexOf("//")>t.lastIndexOf(`
`)&&(t+=`
`)}switch(this.mode){case u.modes.EVAL:this.source+="    ; "+t+`
`;break;case u.modes.ESCAPED:this.source+="    ; __append(escapeFn("+R(t)+`))
`;break;case u.modes.RAW:this.source+="    ; __append("+R(t)+`)
`;break;case u.modes.COMMENT:break;case u.modes.LITERAL:this._addOutput(t);break}}else this._addOutput(t)}i.opts.compileDebug&&o&&(this.currentLine+=o,this.source+="    ; __line = "+this.currentLine+`
`)}},r.escapeXML=c.escapeXML,r.__express=r.renderFile,r.VERSION=T,r.name=l,typeof window<"u"&&(window.ejs=r)})(Z);
