<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>會員中心</title>
    <link rel="stylesheet" href="./css/member_style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>

<body class="member">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-2 d-flex flex-column justify-content-between text-center">
                <div>
                    <a href="index.html">
                        <img src="../assets/images/logo/chillAround_logo_01.png">
                    </a>
                    <div class="sidebar text-start">
                        <div class="item">
                            <a href="member_personaldata.html"><i class="fa-solid fa-user me-3"></i>個人資訊</a>
                        </div>
                        <div class="item">
                            <a href="member_mytrip.html"><i class="fa-solid fa-calendar-days me-3"></i>我的行程</a>
                        </div>
                        <div class="item">
                            <a href="member_mycollection.html"><i class="fa-solid fa-heart me-3"></i>我的收藏行程</a>
                        </div>
                        <div class="item">
                            <a href="TaiwanEx.html"><i class="fa-solid fa-map-location-dot me-3"></i>台灣制縣地圖</a>
                        </div>
                    </div>
                </div>
                <div class="mb-3">
                    <button id="logoutbtn" type="button" class="btn btn-secondary text-white">
                        會員登出
                    </button>
                </div>
            </div>
            <div class="col-md-10 personaldata">
            </div>
        </div>
    </div>
    <script type="module" src="/main.js"></script>
    <script type="module" src="../js/member_personaldata.js"></script>
    <script>
        // $(document).ready(function () {
        //     var userId = localStorage.getItem('userId');
        //     if (!userId) {
        //         alert("請先登入");
        //         window.location.href = 'login.html';
        //         return;
        //     }

        //     // 獲取會員資料
        //     $.ajax({
        //         url: 'http://localhost:8080/member/members/' + userId,
        //         type: 'GET',
        //         success: function (member) {
        //             $('#img').prop('src', '../assets/images/memberimg/' + member.uphoto);
        //             $('#uname').text(member.uname);
        //             $('#uname1').val(member.uname);
        //             $('#email').val(member.email);
        //             $('#pwd').val(member.password);
        //             let birthday = new Date(member.birthday);
        //             let myBirthday = birthday.toLocaleDateString('zh-TW', {
        //                 year: 'numeric',
        //                 month: '2-digit',
        //                 day: '2-digit'
        //             }).replace(/\//g, '-');
        //             $('#birthday').val(myBirthday);
        //             $('#sex').val(member.sex);
        //             $('#address').val(member.address);
        //             $('#cellphonenum').val(member.cellphone);
        //             $('#telephonenum').val(member.telephone);
        //             let googleid = member.googleid;
        //             let lineid = member.lineid;
        //             if (googleid == undefined) {
        //                 $('#google').text('未綁定');
        //             } else {
        //                 $('#google').text('已綁定');
        //             }

        //             if (lineid == undefined) {
        //                 $('#line').text('未綁定');
        //             } else {
        //                 $('#line').text('已綁定');
        //             }

        //             function inputSize(input) {
        //                 var minSize = 10;
        //                 input.attr('size', input.val().length)
        //             }

        //             $('.inpwrite').each(function () {
        //                 inputSize($(this)); // 調整初始大小
        //             });

        //             $('.inpwrite').on('input', function () {
        //                 inputSize($(this));
        //             });

        //             $('#selectsex').hide();
        //             $('#write').hide();
        //             let datePicker;
        //             $('.editbtn').click(function () {
        //                 $('#edit').hide();
        //                 $('#write').show();
        //                 $('#sex').hide();
        //                 $('#selectsex').show();
        //                 if (member.sex === '男') {
        //                     $('#boy').prop('checked', true);
        //                 } else if (member.sex === '女') {
        //                     $('#girl').prop('checked', true);
        //                 }
        //                 let input = $('.inpwrite');
        //                 input.css({ 'border': '1px solid #d2d2d2' }, { 'outline': 'solid thin' });
        //                 input.prop('readonly', false); // 切換 readonly 屬性
        //                 datePicker = flatpickr("#birthday", {
        //                     dateFormat: "Y-m-d",
        //                     allowInput: true
        //                 });
        //             });

        //             $('.cancelbtn').click(function () {
        //                 let msg = "確定取消編輯?";
        //                 if (!confirm(msg)) return false;
        //                 $('#edit').show();
        //                 $('#write').hide();
        //                 $('#sex').show();
        //                 $('#selectsex').hide();
        //                 let input = $('.inpwrite');
        //                 input.css({ 'border': 'none' }, { 'outline': 'none' });
        //                 input.prop('readonly', true); // 切換 readonly 屬性
        //                 if (datePicker) {
        //                     datePicker.destroy();
        //                 }
        //                 $('#birthday').val(myBirthday);
        //             });

        //             $('#logoutbtn').click(function () {
        //                 if (confirm('您確定要登出嗎？')) {
        //                     localStorage.removeItem('userId');
        //                     window.location.href = 'login.html';
        //                 }
        //             });
        //         },
        //         error: function () {
        //             alert("資料讀取失敗");
        //         }
        //     });
        // });
    </script>
</body>

</html>